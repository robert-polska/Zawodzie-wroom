<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IXH – PWM CT</title>

<style>
body{
  margin:0;
  background:#ffffff;
  font-family:Arial,Helvetica,sans-serif;
  color:#000;
}
.logo{
  padding:20px 30px;
}
.logo img{
  height:42px;
  object-fit:contain;
}
.card{
  max-width:820px;
  margin:20px auto;
  background:#0f2533;
  border-radius:28px;
  padding:30px;
  color:#fff;
}
.time{
  text-align:center;
  font-size:36px;
  margin-bottom:25px;
}
.row{
  display:flex;
  gap:20px;
  margin-bottom:20px;
}
.btn{
  flex:1;
  padding:18px;
  border-radius:20px;
  border:none;
  font-size:18px;
  cursor:pointer;
  background:#d9d9d9;
}
.btn.active{
  background:#49d36f;
  color:#000;
}
.section{
  text-align:center;
  margin:25px 0 10px;
  opacity:.8;
}
.temp-row{
  display:flex;
  gap:20px;
}
.temp{
  flex:1;
  background:#1b3443;
  border-radius:18px;
  padding:18px;
  text-align:center;
}
.temp .label{
  opacity:.7;
  margin-bottom:6px;
}
.temp .val{
  font-size:24px;
}
.temp-wide{
  margin-top:15px;
  background:#1b3443;
  border-radius:18px;
  padding:18px;
  text-align:center;
}
.slider{
  width:100%;
}
.footer{
  text-align:center;
  margin:25px 0;
  font-size:14px;
  color:#555;
}
.footer a{
  color:#3aa9ff;
  text-decoration:none;
}
</style>
</head>

<body>

<!-- LOGO -->
<div class="logo">
  <img src="logo.png" alt="IXH – Integrated eXecution Hub">
</div>

<div class="card">

  <div class="time" id="clock">--:--:--</div>

  <div class="row">
    <button id="autoBtn" class="btn active">AUTO</button>
    <button id="manualBtn" class="btn">MANUAL</button>
  </div>

  <div class="row">
    <button id="hvBtn" class="btn">Start HV</button>
  </div>

  <div class="section">Temperatura zadana</div>
  <div class="row">
    <button class="btn" onclick="adj(-0.5)">−</button>
    <button class="btn" id="tzad">21.0 °C</button>
    <button class="btn" onclick="adj(0.5)">+</button>
  </div>

  <div class="temp-row">
    <div class="temp">
      <div class="label">Nawiew</div>
      <div class="val">21.5 °C</div>
    </div>
    <div class="temp">
      <div class="label">Wywiew</div>
      <div class="val">22.1 °C</div>
    </div>
    <div class="temp">
      <div class="label">CT</div>
      <div class="val">31.9 °C</div>
    </div>
  </div>

  <div class="temp-wide">
    <div class="label">Zewnętrzna</div>
    <div class="val">4.2 °C</div>
  </div>

  <div class="section">PWM CT</div>
  <input id="pwm" type="range" min="0" max="100" value="0" class="slider">
  <div class="section"><span id="pwmVal">0</span> %</div>

  <div class="row">
    <button id="pcBtn" class="btn">Start PC</button>
    <button id="ctBtn" class="btn">Pompa CT</button>
  </div>

</div>

<!-- STOPKA -->
<div class="footer">
  IXH-Polska<br>
  ixh@linuxmail.org |
  <a href="tel:+48578424942">+48 578 424 942</a>
</div>

<script>
let mode="AUTO";
let hv=false;
let pc=false;
let ct=false;
let pwmVal=0;
let tset=21.0;

const autoBtn=document.getElementById("autoBtn");
const manualBtn=document.getElementById("manualBtn");
const hvBtn=document.getElementById("hvBtn");
const pcBtn=document.getElementById("pcBtn");
const ctBtn=document.getElementById("ctBtn");
const pwm=document.getElementById("pwm");

function update(){
  autoBtn.classList.toggle("active",mode==="AUTO");
  manualBtn.classList.toggle("active",mode==="MANUAL");
  hvBtn.classList.toggle("active",hv);
  pcBtn.classList.toggle("active",pc);
  ctBtn.classList.toggle("active",ct);
  pwm.disabled = !(hv && mode==="MANUAL");
  document.getElementById("pwmVal").innerText=pwmVal;
}

autoBtn.onclick=()=>{
  mode="AUTO";
  pc=false;
  ct=false;
  pwmVal=0;
  pwm.value=0;
  update();
};

manualBtn.onclick=()=>{
  mode="MANUAL";
  update();
};

hvBtn.onclick=()=>{
  hv=!hv;
  if(!hv){
    pc=false;
    ct=false;
    pwmVal=0;
    pwm.value=0;
  }
  update();
};

pcBtn.onclick=()=>{
  if(!hv || mode!=="MANUAL")return;
  pc=!pc;
  update();
};

ctBtn.onclick=()=>{
  if(!hv || mode!=="MANUAL")return;
  ct=!ct;
  update();
};

pwm.oninput=()=>{
  if(!hv || mode!=="MANUAL"){
    pwm.value=0;
    return;
  }
  pwmVal=pwm.value;
  update();
};

function adj(v){
  tset+=v;
  if(tset<18)tset=18;
  if(tset>30)tset=30;
  document.getElementById("tzad").innerText=tset.toFixed(1)+" °C";
}

setInterval(()=>{
  const d=new Date();
  document.getElementById("clock").innerText=d.toLocaleTimeString();
},1000);

update();
</script>

</body>
</html>
